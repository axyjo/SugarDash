(function(){var a=Array.prototype.slice;(function(){return(exports||(exports=window))&&function(b){var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t;h={zones:{UTC:[{offset:"0",format:"UTC"}]},rules:{}},h.zones.UTC.name="UTC",e={en_US:{name:"en_US",day:{abbrev:"Sun Mon Tue Wed Thu Fri Sat".split(/\s/),full:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(/\s+/)},month:{abbrev:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(/\s+/),full:"January February March\nApril   May      June\nJuly    August   September\nOctober November December".split(/\s+/)},dateFormat:"%m/%d/%y",timeFormat:"%H:%M:%S",dateTimeFormat:"%a %b %_d %H:%M:%S %Y",meridiem:["am","pm"]}},g=1e3,f=g*60,d=f*60,c=d*24,o=function(a){return a%400===0?!0:a%100===0?!1:a%4===0?!0:!1},m=function(){var a;a=[31,28,31,30,31,30,31,31,30,31,30,31];return function(b,c){var d;d=a[b],b===1&&o(c)&&d++;return d}}(),n=function(){var a,b,d,e,f,g,h,i,k,l,m,n;a=[1,32,60,91,121,152,182,213,244,274,305,335],m=function(a,b){var d,e,f,g,h,i,j;f=[a.getUTCFullYear(),a.getUTCMonth(),a.getUTCDate()],a=new Date(Date.UTC.apply(null,f)),g=new Date(Date.UTC(a.getUTCFullYear(),0,1)),e=(a.getTime()-g.getTime())/c,d=a.getUTCDay(),g.getUTCDay()===b?j=0:(j=7-g.getUTCDay()+b,j===8&&(j=1)),h=e-j,i=0,e>=j&&(i++,e-=j,i+=Math.floor(e/7));return i},f=function(a){var b,c,d,e,f;d=a.getUTCFullYear(),c=(new Date(Date.UTC(d,0,1))).getUTCDay(),e=c>1&&c<=4?1:0,f=m(a,1)+e;if(f===0){b=new Date(Date.UTC(a.getUTCFullYear()-1,0,1)),c=b.getUTCDay(),d=b.getUTCFullYear(),f=c===4||c===3&&o(d)?53:52;return[f,a.getUTCFullYear()-1]}return f===53&&!(c===4||c===3&&o(d))?[1,a.getUTCFullYear()+1]:[f,a.getUTCFullYear()]},d=function(a){var b;b=Math.floor(a.getUTCHours()%12);return b===0?12:b},k={a:function(a,b){return b.day.abbrev[a.getUTCDay()]},A:function(a,b){return b.day.full[a.getUTCDay()]},d:function(a){return a.getUTCDate()},e:function(a){return a.getUTCDate()},j:function(b){var c,d;d=b.getUTCMonth(),c=a[d],d>2&&o(b.getUTCFullYear())&&c++,c+=b.getUTCDate()-1;return c},u:function(a){var b;b=a.getUTCDay(),b===0&&(b=7);return b},w:function(a){return a.getUTCDay()},U:function(a){return m(a,0)},W:function(a){return m(a,1)},V:function(a){var b;return b=f(a)[0]},G:function(a){var b;return b=f(a)[1]},g:function(a){var b;return b=f(a)[1]%100},m:function(a){return a.getUTCMonth()+1},h:function(a,b){return b.month.abbrev[a.getUTCMonth()]},b:function(a,b){return b.month.abbrev[a.getUTCMonth()]},B:function(a,b){return b.month.full[a.getUTCMonth()]},y:function(a){return a.getUTCFullYear()%100},Y:function(a){return a.getUTCFullYear()},C:function(a){return Math.floor(a.getFullYear()/100)},D:function(a){return t(a,"%m/%d/%y")},x:function(a,b,c){var d;d=j(a.getTime(),c);return t(d,b.dateFormat,b.name,c.name)},F:function(a){return t(a,"%Y-%m-%d")},l:function(a){return d(a)},I:function(a){return d(a)},k:function(a){return a.getUTCHours()},H:function(a){return a.getUTCHours()},P:function(a,b){return b.meridiem[Math.floor(a.getUTCHours()/12)]},p:function(a,b){return b.meridiem[Math.floor(a.getUTCHours()/12)].toUpperCase()},M:function(a){return a.getUTCMinutes()},s:function(a){return Math.floor(a.getTime()/1e3)},S:function(a){return a.getUTCSeconds()},N:function(a){return a.getTime()%1e3*1e6},r:function(a){return t(a,"%I:%M:%S %p")},R:function(a){return t(a,"%H:%M")},T:function(a){return t(a,"%H:%M:%S")},X:function(a,b,c){var d;d=j(a.getTime(),c);return t(d,b.timeFormat,b.name,c.name)},c:function(a,b,c){var d;d=j(a.getTime(),c);return t(d,b.dateTimeFormat,b.name,c.name)},z:function(a,b,c){var d;d=Math.floor(q(c.offset)/1e3/60);return d<0?"-"+g(Math.abs(d),4,"0"):g(Math.abs(d),4,"0")}},h={d:2,U:2,W:2,V:2,g:2,m:2,j:3,C:2,I:2,H:2,k:2,M:2,S:2,N:9,y:2},i={"-":function(a){return a}},n={_:" ",0:"0"};for(e in n)b=n[e],i[e]=function(a){return function(b,c){return g(b,c,a)}}(b);g=function(a,b,c){var d;d=String(a);return""+Array(b-d.length+1).join(c)+d},l={none:function(a){return a},"^":function(a){return a.toUpperCase()}};return function(a,b,c,d){var e,f,g,j,m,n,o,p,q,r;e=new Date(a),j=[];while(b.length)g=/^(.*?)%(?:%|([-0_^]?)([aAcdDeFHIjklMNpPsrRSTuwXUWVmhbByYcGgCx]))(.*)$/.exec(b),g?(r=g.slice(1),m=r[0],f=r[1],n=r[2],b=r[3],n?(q=k[n](e,c,d),h[n]&&(o=n==="k"?"_":"0",f.length&&i[f[0]]&&(o=f[0]),q=i[o](q,h[n],d)),p=l.none,f.length&&(p=l[f[0]]||p),q=p(q),m!=null&&j.push(m),j.push(q)):j.push("%")):b.length&&(j.push(b),b="");return j.join("")}}(),p=function(){var a;a=function(a,b){return b!=null?a.push(parseInt(b,10)):a.push(0)};return function(b,c,d,e,f,g,h){var i,j;i=[],b==null?(j=new Date,i.push(j.getUTCFullYear())):i.push(parseInt(b,10)),c==null?b==null?i.push(j.getUTCMonth()):i.push(0):i.push(parseInt(c,10)-1),d==null?c==null?i.push(j.getUTCDate()):i.push(1):i.push(parseInt(d,10)),a(i,e),a(i,f),a(i,g),a(i,h);return Date.UTC.apply(null,i)}}(),r=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,r;if(g=/^(.*?)(?:(\d\d\d\d)-(\d\d)(?:-(\d{2}))?|(\d{4})(\d{2})(\d{2})?)(?:(?:\s+|T)(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?)?(?:(?:\s+|Z)([+-]\d{2}(?::?\d{2})?))?(.*)$/.exec(a)){c=g.splice(0,2).pop(),d=g.splice(0,3),d[0]!=null&&(n=d[0],j=d[1],e=d[2]),d=g.splice(0,3),d[0]!=null&&(n=d[0],j=d[1],e=d[2]),m=g.splice(0,4),m[0]!=null&&(f=m[0],i=m[1],l=m[2],h=m[3]),o=g.shift(),o!=null&&(r=q(o)),b=g.pop(),k=(c+b).replace(/\s+/,"").length;if(k===0)return p(n,j,e,f,i,l,h)}},q=function(a){var b,c,e,h,i,j,k,l;c=/^(-?)(\d)+(?::(\d)+)?(?::(\d+))?$/.exec(a).slice(1),c[0]+="1",l=function(){var a,b,d;d=[];for(a=0,b=c.length;a<b;a++)h=c[a],d.push(parseInt(h||"0",10));return d}(),k=l[0],b=l[1],e=l[2],j=l[3],i=b*d,i+=e*f,i+=j*g,i*=k;return i},s=function(a,b){var c,d,f,g,h,i,j,k,l,n,o,p,q,r,s,t,u;i=/^(\d)+:(\d)+(?::(\d+))?$/.exec(b.time).slice(1),r=function(){var a,b,c;c=[];for(a=0,b=i.length;a<b;a++)n=i[a],c.push(parseInt(n||0,10));return c}(),f=r[0],k=r[1],o=r[2],i=/^(?:(\d+)|last(\w+)|(\w+)>=(\d+))$/.exec(b.day);if(i[1])s=[b.month,parseInt(i[1],10)],l=s[0],d=s[1],c=new Date(Date.UTC(a,l,d,f,k,o));else if(i[2]){t=e.en_US.day.abbrev;for(g=0,p=t.length;g<p;g++){d=t[g];if(d===i[2]){h=g;break}}d=m(b.month,a);for(;;){c=new Date(Date.UTC(a,b.month,d,f,k,o));if(c.getDay()===h)break;d--}}else{j=parseInt(i[4],10),u=e.en_US.day.abbrev;for(g=0,q=u.length;g<q;g++){d=u[g];if(d===i[3]){h=g;break}}d=1;for(;;){c=new Date(Date.UTC(a,b.month,d,f,k,o));if(c.getDay()===h&&c.getDate()>=j)break;d++}}return c.getTime()},l=function(a){var b,c;typeof a.until!="number"&&(a.until!=null?(c=function(){var c,d,e,f;e=/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2}).000Z$/.exec(a.until).slice(1),f=[];for(c=0,d=e.length;c<d;c++)b=e[c],f.push(parseInt(b,10));return f}(),c[1]--,a.until=Date.UTC.apply(null,c)):a.until=Math.MAX_VALUE);return a.until},k=function(a,b){var c,d,e,f,g,i,j,k,m,n,o,p,r,t,u;for(p=0,t=b.length;p<t;p++){d=b[p],e=a+q(d.offset);if(l(d)<e)break;o=d,m=e;if(j=h.rules[o.rules]){n=(new Date(m)).getUTCFullYear(),g=(new Date(n-1,0,1)).getTime();for(r=0,u=j.length;r<u;r++)i=j[r],i.from<=n&&n<=i.to&&(k=s(n,i),f=m,c&&(f+=q(c.save)),k<=f&&g<k&&(g=k,c=i))}}c&&(m+=q(c.save));return m},j=function(a,b){var c,d,e,f,g,i,j,k,m,n,o,p,r;for(n=0,p=b.length;n<p;n++){d=b[n];if(l(d)<a)break;m=d;if(g=h.rules[m.rules]){k=(new Date(a)).getUTCFullYear(),e=(new Date(k-1,0,1)).getTime();for(o=0,r=g.length;o<r;o++)f=g[o],f.from<=k&&k<=f.to&&(i=s(k,f),i<=a&&e<i&&(e=i,c=f))}}j=a-q(m.offset),c&&c.save!=="0"&&(j-=q(c.save));return j},i=function(){var a,b,e;a={year:0,month:1,day:2,hour:3,minute:4,second:5,milli:6},b={"-":-1,"+":1},e=function(a){};return function(h,i,l){var m,n,o,p,q,r,s,t,u,v,w,x,y,z;o=e(h),t=[0,0,0,0,0,0,0],u=i.replace(/^\s+/,"");for(;;){q=/^([+-])\s*(\d+)\s+(year|month|day|hour|minute|second|milli)s?(:?(?:\s+(.*))|(.*))$/.exec(u);if(!q)throw new Error("bad date math pattern "+i+".");z=q.slice(1),v=z[0],m=z[1],x=z[2],u=z[3],w=z[4];if(w!=null){if(w!=="")throw new Error("bad date math pattern "+i+".");break}t[a[x]]+=parseInt(m,10)*b[v];if(u==="")break}y=j(h,l),y+=t[a.milli],y+=t[a.second]*g,y+=t[a.minute]*f,y+=t[a.hour]*d,h=k(y,l),h+=t[a.day]*c,n=new Date(h),o=[n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate(),n.getUTCHours(),n.getUTCMinutes(),n.getUTCSeconds(),n.getUTCMilliseconds()];if(s=t[a.month]){p=s/Math.abs(s);while(s!==0)r=s[a.month],r===0&&s<0?(o[a.month]=11,o[a.year]--):r===11&&s>0?(o[a.month]=0,o[a.year]++):o[a.month]+=p,s+=p}o[a.year]+=t[a.year];return Date.UTC.apply(null,o)}}(),b.tz=t=function(){var b,c,d,f,g,l,m,o,p,q,s,t;d=arguments[0],g=2<=arguments.length?a.call(arguments,1):[];if(d==null)throw new Error("invalid arguments");f={adjustments:[]};for(o=0,q=g.length;o<q;o++){c=g[o],c=String(c);if(c.indexOf("%")!==-1)f.format||(f.format=c);else if(h.zones[c])f.zone||(f.zone=c);else if(/^\w{2}_\w{2}$/.test(c)){if(!e[c])throw new Error("unknown locale");f.locale||(f.locale=c)}else f.adjustments.push(c)}f.locale||(f.locale="en_US"),f.zone||(f.zone="UTC"),f.tzdata=h.zones[f.zone],f.locale=e[f.locale],typeof d=="string"?m=r(d,f):(m=d.getTime?d.getTime():d,f.zone!=="UTC"&&(m=k(m,f.tzdata))),t=f.adjustments;for(p=0,s=t.length;p<s;p++)b=t[p],m=i(m,b,f.tzdata);f.format?l=n(m,f.format,f.locale,f.tzdata):f.zone!=="UTC"?l=j(m,f.tzdata):l=m;return l},t.locales=function(a){var b,c;if(a!=null)for(b in a)c=a[b],e[b]=c;return e};return t.timezones=function(a){var b,c,d,e;if((a!=null?a.zones:void 0)!=null){d=a.zones;for(b in d)c=d[b],h.zones[b]=c,h.zones[b].name=b;e=a!=null?a.rules:void 0;for(b in e)c=e[b],h.rules[b]=c}return h}}(exports)})()}).call(this)